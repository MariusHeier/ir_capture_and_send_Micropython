import utime
from machine import Pin, PWM

ir_blink = PWM(Pin(23))
ir_blink.freq(38000)
ir_blink.duty(50)

#Testdata
data = [(0, 75), (1, 290), (0, 8749), (1, 4518), (0, 571), (1, 564), (0, 578), (1, 560), (0, 589), (1, 547), (0, 578), (1, 558), (0, 579), (1, 578), (0, 570), (1, 556), (0, 570), (1, 560), (0, 578), (1, 1669), (0, 570), (1, 1669), (0, 580), (1, 1669), (0, 578), (1, 1669), (0, 579), (1, 1669), (0, 578), (1, 1669), (0, 570), (1, 1669), (0, 579), (1, 1674), (0, 570), (1, 568), (0, 570), (1, 1669), (0, 579), (1, 1669), (0, 578), (1, 578), (0, 554), (1, 567), (0, 570), (1, 568), (0, 570), (1, 587), (0, 570), (1, 539), (0, 570), (1, 569), (0, 578), (1, 569), (0, 570), (1, 557), (0, 579), (1, 1669), (0, 578), (1, 1669), (0, 580), (1, 1669), (0, 570), (1, 1669), (0, 579), (1, 1669), (0, 578), (1, 1669), (0, 578)]

for time in data:
    print(time)
    if time[0] == 0:
        ir_blink.init()

        utime.sleep_us(time[1])
        ir_blink.deinit()
    elif time[0] == 1:
        ir_blink.deinit()
        utime.sleep_us(time[1])

